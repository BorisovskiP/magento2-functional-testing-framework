<?xml version="1.0" encoding="UTF-8"?>
<!--
 /**
  * Copyright Â© Magento, Inc. All rights reserved.
  * See COPYING.txt for license details.
  */
-->

<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="../../../../../src/Magento/FunctionalTestingFramework/Test/etc/testSchema.xsd">
    <cest name="ActionGroupFunctionalCest">
        <annotations>
            <severity value="CRITICAL"/>
            <title value="A Functional Cest"/>
            <group value="functional"/>
            <features value="Action Group Functional Cest"/>
            <stories value="MQE-433"/>
        </annotations>
        <before>
            <createData entity="replacementPerson" mergeKey="createPersonParam"/>
        </before>
        <test name="BasicActionGroupTest">
            <amOnPage mergeKey="step1" url="/someUrl"/>
            <actionGroup ref="functionalActionGroup" mergeKey="actionGroup1"/>
            <click mergeKey="step6" selector="loginButton"/>
        </test>
        <test name="ActionGroupWithDataTest">
            <amOnPage mergeKey="step1" url="/someUrl"/>
            <actionGroup ref="functionalActionGroupWithData" mergeKey="actionGroupWithData1"/>
            <click mergeKey="step6" selector="loginButton"/>
        </test>
        <test name="ActionGroupWithDataOverrideTest">
            <amOnPage mergeKey="step1" url="/someUrl"/>
            <actionGroup ref="functionalActionGroupWithData" mergeKey="actionGroupWithDataOverride1">
                <argument name="person" value="replacementPerson"/>
            </actionGroup>
            <click mergeKey="step6" selector="loginButton"/>
        </test>
        <test name="ActionGroupWithNoDefaultTest">
            <amOnPage mergeKey="step1" url="/someUrl"/>
            <actionGroup ref="functionalActionGroupNoDefault" mergeKey="actionGroupWithDataOverride1">
                <argument name="person" value="defaultPerson"/>
            </actionGroup>
            <click mergeKey="step6" selector="loginButton"/>
        </test>
        <test name="ActionGroupWithPersistedData">
            <createData entity="defaultPerson" mergeKey="createPerson"/>
            <actionGroup ref="functionalActionGroupWithData" mergeKey="actionGroupWithPersistedData1">
                <argument name="person" value="$createPerson$"/>
            </actionGroup>
        </test>
        <test name="ActionGroupWithTopLevelPersistedData">
            <actionGroup ref="functionalActionGroupWithData" mergeKey="actionGroupWithPersistedData1">
                <argument name="person" value="$$createPersonParam$$"/>
            </actionGroup>
        </test>
        <test name="MultipleActionGroupsTest">
            <amOnPage mergeKey="step1" url="/someUrl"/>
            <actionGroup ref="functionalActionGroupWithData" mergeKey="actionGroup1"/>
            <click mergeKey="step6" selector="loginButton"/>
            <actionGroup ref="functionalActionGroupWithData" mergeKey="actionGroupWithDataOverride2">
                <argument name="person" value="replacementPerson"/>
            </actionGroup>
        </test>
        <test name="MergedActionGroupTest">
            <actionGroup ref="functionalActionGroupForMerge" mergeKey="actionGroupForMerge">
                <argument name="myArg" value="defaultPerson"/>
            </actionGroup>
        </test>
    </cest>
</config>